<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="./resources/ol.css">
        <link rel="stylesheet" href="resources/fontawesome-all.min.css">
        <link href="resources/photon-geocoder-autocomplete.min.css" rel="stylesheet">
        <link rel="stylesheet" href="./resources/ol-layerswitcher.css">
        <link rel="stylesheet" href="./resources/qgis2web.css">
        <style>
        html, body {
            background-color: #ffffff;
        }
        .ol-control > * {
            background-color: #f8f8f8!important;
            color: #444444!important;
            border-radius: 0px;
        }
        .ol-attribution a, .gcd-gl-input::placeholder, .search-layer-input-search::placeholder {
            color: #444444!important;
        }
        .search-layer-input-search {
            background-color: #f8f8f8!important;
        }
        .ol-control > *:focus, .ol-control >*:hover {
            background-color: rgba(248, 248, 248, 0.7)!important;
        } 
        .ol-control {
            background-color: rgba(255,255,255,.4) !important;
            padding: 2px !important;
        } 
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1s ease;
        }
        #intro-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }
        #intro-box {
            font-family: verdana;
            text-align: center;
            max-width: 400px;
        }
        #logo-cpts {
            max-width: 120px;
            margin-bottom: 20px;
        }
        #intro-text {
            font-size: 14px;
            font-family: verdana;
            margin-bottom: 25px;
            color: #444;
        }
        #enter-map {
            background-color: #0078FF;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
        }
        #enter-map:hover {
            background-color: #0056b3;
        }
        #map-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            z-index: 2000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            font-family: verdana;
        }
        #header-logo {
            height: 40px;
            margin-bottom: 5px;
        }
        #header-title {
            flex-grow: 1;
            text-align: center;
            font-size: 18px;
            margin: 0 0 5px 0;
        }
        #header-button {
            padding: 6px 12px;
            background-color: #1976d2;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
        }
        #header-button:hover {
            background-color: #145ca3;
        }
        #home-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1500;
        }
        .fruit-veg {
            position: absolute;
            top: -50px;
            font-size: 24px;
            animation-name: floatDown, sway;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }
        @keyframes floatDown {
            0% { transform: translateY(-50px); }
            100% { transform: translateY(110vh); }
        }
        @keyframes sway { 
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(20px); }
        }
        </style>

        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title></title>
    </head>
    <body>
        <div id="home-animation"></div>
        <div id="map-header">
            <img src="images/logocpts.png" id="header-logo" alt="Logo CPTS">
            <h1 id="header-title">Les restaurants proches de vous</h1>
            <a href="https://cptsbagneux.fr/" target="_blank" id="header-button">Visiter le site de la CPTS</a>
            </div>
        <div id="intro-screen">
            <div id="intro-box">
                <img src="images/logocpts.png" id="logo-cpts">
                <h1>Il est l'heure de la pause d√©jeuner !</h1>
                <p id="intro-text">
                    <strong>Vous ne savez pas o√π manger dans le temps d√©di√© √† la pause du repas ?</strong><br>
                    Pas de panique ! La CPTS de Bagneux met √† votre disposition cette carte interactive des restaurant et commerces √† proximit√© de vous.<br>
                    Il vous suffit de taper sur chaque point pour voir les d√©tails (type de cuisine, distance...)<br>
                    Plus le point est fonc√©, plus le restaurant est proche.
                    <p><h2>Bon app√©tit !</h2></p>
                <button id="enter-map">Acc√©der √† la carte</button>
                </div>
            </div>
        <div id="map">
            <div id="popup" class="ol-popup">
                <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                <div id="popup-content"></div>
            </div>
        </div>
        <script src="resources/qgis2web_expressions.js"></script>
<script src="resources/proj4.js"></script>
        <script>proj4.defs('IGNF:RGF93LAMB93.IGN69','+proj=lcc +lat_0=46.5 +lon_0=3 +lat_1=44 +lat_2=49 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +vunits=m +no_defs');</script>
        <script src="./resources/functions.js"></script>
        <script src="./resources/ol.js"></script>
        <script src="./resources/ol-layerswitcher.js"></script>
        <script src="resources/photon-geocoder-autocomplete.min.js"></script>
        <script src="layers/CommunedeBagneux_1.js"></script><script src="layers/RESTAURANTSFORMATIONPSSMlocformation_2.js"></script><script src="layers/Restaurantsprochesdevous_3.js"></script>
        <script src="styles/CommunedeBagneux_1_style.js"></script><script src="styles/RESTAURANTSFORMATIONPSSMlocformation_2_style.js"></script><script src="styles/Restaurantsprochesdevous_3_style.js"></script>
        <script src="./layers/layers.js" type="text/javascript"></script> 
        <script src="./resources/Autolinker.min.js"></script>
        <script src="./resources/qgis2web.js"></script>
        <script>
        document.getElementById("enter-map").onclick = function () {
            var intro = document.getElementById("intro-screen");
            intro.classList.add("fade-out");
            setTimeout(function() {
                intro.style.display = "none";
            }, 1000);
        };
        </script>
        <script>
            const homeAnimation = document.getElementById('home-animation');
            const fruitVeggies = ["üçè", "üå∂Ô∏è","ü•ê","üçá","üçï","üçê","üç≥","üçú"];
            for (let i = 0; i < 30; i ++) {
                let fv = document.createElement("div");
                fv.className = "fruit-veg";
                fv.textContent = fruitsVeggies[Math.floor(Math.random() * fruitsVeggies.length)];
                fv.style.left = Math.random() * 100 + "vw";
                fv.style.fontSize = (Math.random() * 24 + 16) + "px";
                fv.style.AnimationDuration = (Math.random() * 5 + 5) + "s, " + (Math.random() * 3 + 2) + "s";
                fv.style.animationDelay = Math.random() * 5 + "s";
                fv.style.transform = `rotate(${Math.random()*360}deg)`;
                homeAnimation.appendChild(fv);
            }
            </script> 
    </body>
</html>
